Бизнес эвенты:
  1. Создание задачи (create_task)
    * Команда: "создать задачу"
    * Актор: любой пользователь
    * Данные: описание задачи
    * Событие: "задача создана"
  2. Ассайн задач (assign_tasks)
    * Команда: "заассайнить"
    * Актор: пользователь (менеджер или админ)
    * Данные: -
    * Событие: старт ассайна
  3. Распределение задач (spread_tasks)
    * Команда: "распределить таски"
    * Актор: старт ассайна
    * Данные: список задач + список пользователей
    * Событие: задачи заассайнены
  4. Отправка уведомлений об ассайне
    * Команда: отправить уведомление
    * Актор: задачи заассайнены
    * Данные: задача + пользователь + тип данных
      * почта
      * слак
      * смс
    * Событие: уведомление отправлено
  5. Выполнение задачи
    * Команда: "выполнена"
    * Актор: пользователь на которого заасайнена задача
    * Данные: задача + пользователь
    * Событие: задача выполнена
  6. Назначение награды
    * Команда: назначить награду
    * Актор: задача выполнена
    * Данные: пользователь + размер выплаты
    * Событие: награда назначена
  7. Закрытие рабочего дня
    * Команда: закрыть рабочий день
    * Актор: крон
    * Данные: список всех задач с пользователями
    * Событие: день закрыт
  8. Перенос долга на следующий день
    * Команда: перенос долга
    * Актор: день закрыт
    * Данные: список незакрытых задач
    * Событие: долг перенесен
  9. Выплата деняк
    * Команда: выплатить награду
    * Актор: день закрыт
    * Данные: список закрытых задач
    * Событие: награда выплачена
  10. Уведомление о выплате
    * Команда: уведомить о выплате
    * Актор: выплатить награду
    * Данные: пользователь + емейл + сумма
    * Событие: Уведомление на почту отправлено
  11. Аудитлог о выплате:
    * Команда: создать аудитлог о выплате
    * Актор: уведомление на почту отправлено
    * Данные: пользователь + емейл + сумма
    * Событие: Аудитлог сохранен

Запросы:
  1. Запрос общего аккаунтинга
    1. вызвана команда "аккаунтинг"
    2. пользователь аутентифицирован
    3. пользователь авторизован (админ или бухгалтер)
  2. Запрос аккаунтинга по попугу
    1. вызвана команда "аккаунтинг меня"
    2. пользователь аутентифицирован
    3. пользователь авторизован
    4. выведен аудитлог со всеми задачами
  3. Запрос аналитики
    1. вызвана команда "запрос аналитики"
    2. пользователь аутентифицирован
    3. пользователь авторизован (админ)
    4.
Полиси:
1. Аутентификация пользователя (authentication)
  * Команда: "аутентифицировать"
  * Актор: событие-родитель
  * Данные: пользователь + следующая команда
  * Событие: пользователь аутентифицирован
2. Авторизация пользователя (authorization)
  * Команда: "авторизовать"
  * Актор: событие-родитель
  * Данные: пользователь + следующая команда
  * Событие: пользователь авторизован
